# 架构文档说明

本目录包含了汽车尾门动画演示系统的完整架构设计文档。

## 文件说明

### 1. `architecture.puml` - 完整架构图
这是系统的主要架构图，展示了：
- 所有组件的层次结构
- 组件间的依赖关系
- 技术栈信息
- 核心设计模式

**使用方法：**
```bash
# 使用PlantUML生成图片
plantuml architecture.puml
```

### 2. `data-flow.puml` - 数据流架构图
这是简化的数据流图，专注于：
- 用户交互流程
- 状态管理流程
- 事件驱动机制
- 核心数据流向

**使用方法：**
```bash
# 使用PlantUML生成图片
plantuml data-flow.puml
```

### 3. `ARCHITECTURE.md` - 详细架构文档
这是完整的架构说明文档，包含：
- 项目概述和技术栈
- 详细的架构层次说明
- 核心设计模式解释
- 数据流分析
- 关键特性说明
- 部署和扩展计划

## 如何查看PlantUML图

### 方法1：在线查看
1. 访问 [PlantUML在线编辑器](http://www.plantuml.com/plantuml/uml/)
2. 复制`.puml`文件内容到编辑器中
3. 查看生成的图片

### 方法2：本地生成
1. 安装PlantUML
   ```bash
   # macOS
   brew install plantuml
   
   # Ubuntu/Debian
   sudo apt-get install plantuml
   
   # Windows
   # 下载PlantUML jar文件
   ```

2. 生成图片
   ```bash
   plantuml architecture.puml
   plantuml data-flow.puml
   ```

### 方法3：VS Code插件
1. 安装PlantUML插件
2. 打开`.puml`文件
3. 使用`Ctrl+Shift+P`打开命令面板
4. 选择"PlantUML: Preview Current Diagram"

## 架构图解读指南

### 1. 层次结构
- **前端应用层**: 最顶层，包含HTML入口和React根组件
- **组件层**: UI组件，负责用户界面和交互
- **Hook层**: React Hooks，连接UI和服务层
- **服务层**: 业务逻辑层，包含核心服务和编排器
- **工具层**: 工具函数和配置
- **静态资源**: 图片等静态文件

### 2. 依赖关系
- 箭头表示依赖关系，从依赖方指向被依赖方
- 实线箭头表示直接依赖
- 虚线箭头表示间接依赖

### 3. 颜色说明
- 不同包使用不同颜色区分
- 核心组件用深色标识
- 辅助组件用浅色标识

## 架构设计原则

### 1. 分层架构
- 每层都有明确的职责
- 上层依赖下层，下层不依赖上层
- 同层组件间通过接口通信

### 2. 事件驱动
- 组件间通过事件解耦
- 支持异步操作和状态管理
- 便于扩展和维护

### 3. 原子服务
- 每个服务都是独立的单元
- 服务间通过标准接口通信
- 支持服务的独立测试和替换

## 扩展指南

### 添加新组件
1. 在`src/components/`下创建新组件
2. 在架构图中添加组件节点
3. 更新依赖关系
4. 更新文档说明

### 添加新服务
1. 在`src/services/`下创建新服务
2. 实现标准服务接口
3. 在架构图中添加服务节点
4. 更新数据流图

### 修改架构
1. 更新对应的`.puml`文件
2. 重新生成图片
3. 更新`ARCHITECTURE.md`文档
4. 通知团队成员

## 维护说明

### 版本控制
- 架构图与代码同步更新
- 重大架构变更需要创建新版本
- 保持文档的时效性

### 审查流程
- 架构变更需要团队审查
- 确保变更符合设计原则
- 更新相关文档和测试

### 工具推荐
- **PlantUML**: 架构图绘制
- **Draw.io**: 流程图绘制
- **Mermaid**: 简单图表绘制
- **Lucidchart**: 在线协作绘图

## 联系信息

如有架构相关问题，请联系：
- 项目负责人
- 技术架构师
- 开发团队

---

*最后更新: 2024年* 